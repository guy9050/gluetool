---
- job:
    name: 'ci-covscan'
    node: master
    description: |
        Managed by Jenkins Job Builder. Do not edit via web.
    concurrent: true
    display-name: 'ci-covscan'
    parameters:
      - string:
          name: id
          default: ''
          description: 'Brew task ID.'
      - string:
          name: notify_email_options
          default: ''
          description: 'Additional options for notify-email module.'
    builders:
      - shell: |
          citool -i -o citool-debug.txt brew --id $id jenkins brew-build-name covscan notify-email --covscan-default "{ISSUER}" ${notify_email_options}
    publishers:
      - archive:
          artifacts: '*.txt, *.html'
          allow-empty: 'true'
    properties:
      - build-discarder:
          num-to-keep: 500
