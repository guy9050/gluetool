- job:
    name: 'ci-wow'
    node: beaker
    description: |
        Run testing via beaker workflow tomorrow.
    concurrent: true
    display-name: 'ci-wow'
    parameters:
        - string:
            name: id
            default: ''
            description: 'Brew task ID.'
        - string:
            name: wow_options
            default: ''
            description: 'Additional options for workflow-tomorrow'
        - string:
            name: jobwatch_options
            default: ''
            description: 'Additional options for beaker-jobwatch'
        - string:
            name: notify
            default: ''
            description: 'Comma-separated list of e-mails to notify when job finishes.'
    builders:
        - shell: |
            citool -i -o citool-debug.txt jenkins brew --id $id brew-build-name guess-distro wow --wow-options "${wow_options}" --jobwatch-options "${jobwatch_options}" notify --notify "${notify}"
    publishers:
        - archive:
            artifacts: '**/**'
            allow-empty: 'true'
